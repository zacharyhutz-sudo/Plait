
/* === Plait — Restored Layout + Modern & Lively (Cool) Theme, Light-only === */

/* Tokens */
:root{
  /* Keep cool & fresh gradient */
  --bg: radial-gradient(1000px 380px at 120% -20%, rgba(16,185,129,.08), transparent 55%),
        radial-gradient(1200px 500px at -10% -15%, rgba(37,99,235,.10), transparent 50%),
        linear-gradient(180deg, #ecfeff 0%, #f0f9ff 40%, #e0f2fe 100%);
  --bg-elev: #ffffffF2;   /* slightly translucent white */
  --card: #ffffffE6;
  --ink: #0f172a;
  --muted: #6b7280;
  --border: #e6e6ef;
  --accent: #38bdf8;      /* aqua */
  --accent-2: #3b82f6;    /* sky/blue */
  --ring: rgba(56,189,248,.25);
  --shadow: 0 12px 30px rgba(2,6,23,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    
}

/* Layout */
.container{max-width:1120px;margin:0 auto;padding:24px}
.page{display:flex;flex-direction:column;min-height:100%;flex:1}
.hidden{display:none}

/* Header (restored structure) */
.header { display: flex; align-items: center; justify-content: flex-start; padding-top: 24px; gap: 18px; }
.left-group { display: flex; align-items: center; gap: 14px; }
.brand { display: flex; align-items: center; gap: 12px; }
.brand-text h1 { font-family: Calistoga, Georgia, serif; font-size: 28px; line-height: 1; margin: 0; }
.left, .right { display:flex; align-items:center; }

/* Buttons */
.icon-btn{
  border:1px solid var(--border);
  background:var(--bg-elev);
  color:var(--ink);
  width:38px; height:38px;
  border-radius:12px;
  display:grid; place-items:center;
  cursor:pointer;
  transition: box-shadow .15s, transform .03s ease;
  backdrop-filter: blur(6px);
}
.icon-btn:hover{ box-shadow:var(--shadow); }
.icon-btn:active{ transform: translateY(1px); }

/* Logo */
.logo{
  width:42px;height:42px;border-radius:12px;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  display:grid;place-items:center;color:white;font-weight:800;box-shadow:var(--shadow)
}
.logo.small{ width:28px; height:28px; border-radius:8px; }

/* Hero */
.hero{padding-top:18px;padding-bottom:8px}
.hero-title{font-size:clamp(26px, 3.4vw, 40px);margin:0 0 12px 0}
.hero-title .accent{
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  -webkit-background-clip:text;background-clip:text;color:transparent
}

/* Import */
.import{display:grid;gap:10px}
.input-wrap{position:relative;display:flex;align-items:center}
.input-wrap .icon{
  position:absolute;left:12px;top:50%;transform:translateY(-50%);
  width:18px;height:18px;color:var(--muted)
}
.input-wrap input{
  width:100%;padding:12px 14px 12px 38px;border:1px solid var(--border);
  border-radius:14px;background:var(--bg-elev);color:var(--ink);font-size:16px;
  outline:none;transition:border .15s, box-shadow .15s; backdrop-filter: blur(6px);
}
.input-wrap input:focus{border-color:var(--accent);box-shadow:0 0 0 6px var(--ring)}

.actions{display:flex;gap:10px;flex-wrap:wrap}
.btn{
  border:1px solid var(--border);background:var(--bg-elev);color:var(--ink);
  border-radius:12px;padding:10px 14px;font-weight:600;cursor:pointer;
  transition:transform .03s ease, box-shadow .15s, filter .15s;
  backdrop-filter: blur(6px);
}
.btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#fff;border-color:transparent;box-shadow:var(--shadow)}
.btn.ghost{background:transparent}
.btn[disabled]{opacity:.6;cursor:not-allowed}
.btn:hover{ box-shadow: var(--shadow); filter: brightness(1.02); }
.btn:active{transform:translateY(1px)}
.spinner{display:none;width:16px;height:16px;border-radius:50%;border:2px solid rgba(255,255,255,.4);border-top-color:#fff;margin-left:8px;animation:spin 1s linear infinite}
.btn.loading .btn-label{opacity:.7}
.btn.loading .spinner{display:inline-block}
@keyframes spin{to{transform:rotate(360deg)}}

/* Grid */
.grid-single{display:grid;grid-template-columns:1fr;gap:22px;align-items:start}

/* Panels & Cards with glass effect */
.panel{background:var(--bg-elev);border:1px solid var(--border);border-radius:18px;padding:18px;box-shadow:var(--shadow);backdrop-filter: blur(8px);}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px;margin-top:12px;backdrop-filter: blur(6px);box-shadow:var(--shadow)}
.card-head{display:flex;align-items:center;gap:10px;margin-bottom:8px;color:var(--muted)}
.card-head svg,.header svg,.chip-icon{width:1.05rem;height:1.05rem;flex-shrink:0;opacity:.8;margin-right:.35rem;vertical-align:middle}
.card-head h4,.card-head svg{display:inline-flex;align-items:center}
.card-head h4{font-size:1rem;font-weight:600;margin:0}

/* Lists */
.list{margin:0;padding-left:18px}
.list li{line-height:1.45;margin:.25rem 0}

/* Ingredient checklist */
.ingredient-item { display: grid; grid-template-columns: 22px 1fr; align-items: start; gap: 10px; }
.ing-check { width: 18px; height: 18px; margin-top: 2px; accent-color: var(--accent); cursor: pointer; }
.ingredient-item.checked label { color: var(--muted); text-decoration: line-through; }

/* Steps */
.steps{counter-reset: step; list-style:none; padding-left:0; margin:0}
.steps li{counter-increment: step; position:relative; padding-left:40px; margin:.4rem 0; line-height:1.55}
.steps li::before{
  content: counter(step);
  position:absolute; left:0; top:0.05rem;
  width:28px; height:28px; border-radius:9px;
  display:grid; place-items:center;
  background:#e0f2fe; color:#0f3a7a;
  border:1px solid var(--border); font-weight:700
}
.ing-ref{ color: var(--accent-2); font-weight: 600; cursor: pointer; }
.ing-ref:hover{ text-decoration: underline; }

/* Sidebar — slide-in left (restored) */
.sidebar{
  position: fixed; inset: 0 auto 0 0; width: 320px; background: var(--bg-elev);
  border-right: 1px solid var(--border); transform: translateX(-100%);
  transition: transform .24s ease; z-index: 120; display:flex; flex-direction:column;
  box-shadow: var(--shadow); backdrop-filter: blur(10px);
}
.sidebar.open{ transform: translateX(0); }
.sidebar-head{ display:flex; align-items:center; gap:10px; padding:16px; border-bottom:1px solid var(--border); }
.sidebar-nav{ display:flex; flex-direction:column; padding:12px; gap:4px; }
.sidebar-link{ padding:10px 12px; border-radius:10px; color:var(--ink); text-decoration:none; }
.sidebar-link:hover{ background:#f3f5ff; }
.sidebar-foot{ margin-top:auto; padding:12px 16px; color:var(--muted); border-top:1px solid var(--border); }
.backdrop{
  position:fixed; inset:0; background: rgba(2,6,23,.28); opacity:0; pointer-events:none;
  transition: opacity .2s ease; z-index:110;
}
.backdrop.show{ opacity:1; pointer-events:auto; }

/* Footer placement (restored) */
.footer{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-bottom:28px}
.footer a{color:var(--ink);opacity:.9}
.muted{color:var(--muted)}

/* Toast */
.toast{
  position:fixed;right:18px;bottom:18px;max-width:360px;background:var(--card);
  color:var(--ink);border:1px solid var(--border);border-radius:14px;padding:12px 14px;
  box-shadow:var(--shadow);z-index:150;min-height:42px; backdrop-filter: blur(6px);
}
.toast:empty{display:none}

/* A11y */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Responsive */
@media (max-width: 900px){
  .container{padding:18px}
  .panel { padding: 14px; border-radius: 16px; }
  .card { padding: 12px; }
  .list li, .steps li { margin: 6px 0; line-height: 1.5; }
  .brand.offcenter{ transform: none; }
}

/* Saved Recipes hover interaction */
.saved-list .saved-open {
  color: inherit;
  cursor: pointer;
  transition: color 0.15s ease;
}
.saved-list .saved-open:hover { color: var(--accent); }
.saved-list li { display: flex; justify-content: space-between; align-items: center; }

/* Header alignment tweaks */
.header.container{ max-width: none; margin: 0; padding-left: 18px; padding-right: 18px; }
.header { display:flex; align-items:center; gap:18px; }
.header .brand { margin-left: auto; }
.brand .brand-text + .logo { margin-left: 8px; }

/* Steps: Focus (Cook) Mode */
#instructions { position: relative; }
.step-focus.hidden { display: none; }
.step-focus{
  position: relative;
  display: grid;
  grid-template-rows: auto 1fr;
  align-items: start;
  justify-items: center;
  min-height: 180px;
  text-align: center;
  padding: 16px 44px;
  border-top: 1px solid var(--border);
}
.step-counter{
  width: 100%;
  text-align: center;
  font-weight: 600;
  color: var(--muted);
  margin-bottom: 8px;
}
.step-focus-body{
  max-width: 64ch;
  line-height: 1.6;
  font-size: 1.05rem;
  justify-self: center;
}
.step-nav{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  border: 1px solid var(--border);
  background: var(--card);
  color: var(--ink);
  width: 36px; height: 36px;
  border-radius: 999px;
  box-shadow: var(--shadow);
  display: grid; place-items: center;
  font-size: 22px; line-height: 1;
}
.step-nav.prev { left: 8px; }
.step-nav.next { right: 8px; }
.step-nav:disabled { opacity: .5; pointer-events: none; }
.step-focus-body .ing-ref{ cursor: pointer; border-bottom: 1px dashed currentColor; }

/* Groceries */
.groceries-root{ display:grid; gap:14px; }
.gro-section{ border-top:1px dashed var(--border); padding-top:8px; }
.gro-section h4{ margin:8px 0 6px 0; font-size:.95rem; color:var(--muted); }
.gro-list{ list-style:none; margin:0; padding-left:0; }
.gro-item{ display:grid; grid-template-columns:22px 1fr; align-items:start; gap:10px; margin:.25rem 0; }
.gro-item.checked label{ color:var(--muted); text-decoration:line-through; }

/* Footer — centered & consistent links */
.site-footer {
  text-align: center;
  padding: 1.25rem 0;
  font-size: 0.9rem;
  color: #4b5563;
  border-top: 1px solid var(--border);
  background: linear-gradient(180deg, transparent 0%, rgba(240,249,255,0.8) 100%);
  margin-top: 3rem;
  backdrop-filter: blur(8px);
}
.site-footer p { margin: 0; }
.site-footer a {
  color: inherit;
  text-decoration: underline;
  text-decoration-color: currentColor;
  text-underline-offset: 0.15em;
  text-decoration-thickness: from-font;
}
.site-footer a:visited { color: inherit; }
.site-footer a:hover { color: var(--accent-2); text-decoration-thickness: 2px; }
.site-footer .sep { margin: 0 0.5ch; color: inherit; user-select: none; }


/* === Sticky Glass Header + Footer Flow Fix === */
.header-glass {
  position: sticky;
  top: 0;
  z-index: 200;
  background: rgba(255, 255, 255, 0.70);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 2px 10px rgba(15, 23, 42, 0.08);
  transition: background 0.25s ease, box-shadow 0.25s ease, transform 0.25s ease;
}

body.scrolled .header-glass {
  background: rgba(255, 255, 255, 0.85);
  box-shadow: 0 6px 20px rgba(15, 23, 42, 0.12);
  transform: translateY(0px);
}

/* Ensure main content pushes footer down in normal flow */
.site-footer { position: static; }


/* --- Ingredient Centered Glass Modal --- */
.modal{
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 120;
  max-width: min(560px, calc(100% - 40px));
  background: var(--bg-elev); /* semi-translucent white from theme */
  -webkit-backdrop-filter: blur(18px) saturate(140%);
  backdrop-filter: blur(18px) saturate(140%);
  border: 1px solid rgba(255,255,255,.35);
  border-radius: 20px;
  box-shadow: var(--shadow);
  padding: 20px 20px 18px 20px;
  color: var(--ink);
  opacity: 1;
}
/* Animate on open */
@keyframes modal-pop {
  from { opacity: 0; transform: translate(-50%, -46%) scale(.98); }
  to   { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}
.modal:not(.hidden){ animation: modal-pop .18s ease; }

.modal-title{
  font-size: 18px;
  line-height: 1.2;
  margin: 0 28px 10px 0;
  font-weight: 600;
}
.modal-body{
  font-size: 16px;
  line-height: 1.6;
}
.icon-btn.close-btn{
  position: absolute;
  top: 10px;
  right: 12px;
  width: 28px;
  height: 28px;
  display: grid;
  place-items: center;
  font-size: 18px;
  line-height: 1;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: #ffffffbf;
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease;
}
.icon-btn.close-btn:hover{ transform: scale(1.06); box-shadow: 0 6px 18px rgba(2,6,23,.10); }
.icon-btn.close-btn:active{ transform: scale(.98); }

/* Ensure backdrop exists above content but below modal */
.backdrop{
  position:fixed; inset:0; background: rgba(2,6,23,.32); opacity:0; pointer-events:none;
  transition: opacity .2s ease; z-index:110;
}
.backdrop.show{ opacity:1; pointer-events:auto; }
