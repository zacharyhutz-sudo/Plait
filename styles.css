/* Plait — refined desktop UI with slide-in sidebar, off-center brand, and clean light background */
:root{
  --bg: #f5f6fa;
  --bg-elev: #ffffff;
  --card: #ffffff;
  --ink: #0f172a;
  --muted: #6b7280;
  --border: #e6e6ef;
  --accent: #2563eb;
  --accent-2: #10b981;
  --ring: rgba(37,99,235,.18);
  --shadow: 0 12px 30px rgba(2,6,23,.06);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1000px 380px at 120% -20%, rgba(16,185,129,.08), transparent 55%),
    radial-gradient(1200px 500px at -10% -15%, rgba(37,99,235,.10), transparent 50%),
    var(--bg);
  color:var(--ink);
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}
.container{max-width:1120px;margin:0 auto;padding:24px}
.page{display:flex;flex-direction:column;min-height:100%}
.hidden{display:none}
.header{
  display:grid;
  grid-template-columns: 80px 1fr 80px;
  align-items:center;
  padding-top:24px;
}
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-top: 24px;
  gap: 18px;
}

.left-group {
  display: flex;
  align-items: center;
  gap: 14px;
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
}

.brand-text h1 {
  font-family: Calistoga, Georgia, serif;
  font-size: 28px;
  line-height: 1;
  margin: 0;
}

.left, .right { display:flex; align-items:center; }
.icon-btn{
  border:1px solid var(--border);
  background:var(--bg-elev);
  color:var(--ink);
  width:38px; height:38px;
  border-radius:12px;
  display:grid; place-items:center;
  cursor:pointer;
}
.icon-btn:hover{ box-shadow:var(--shadow); }
.icon-btn:active{ transform: translateY(1px); }
.brand-text {
  font-family: Calistoga, Georgia, serif;
  font-size: 28px;
  margin: 0;
}
.left-group {
  display: flex;
  align-items: center;
  gap: 14px; /* keeps some space between hamburger and “Plait” */
}

.logo{
  width:42px;height:42px;border-radius:12px;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  display:grid;place-items:center;color:white;font-weight:800;box-shadow:var(--shadow)
}
.logo.small{ width:28px; height:28px; border-radius:8px; }
.brand-text h1{font-family:Calistoga, Georgia, serif;font-size:28px;line-height:1;margin:0}
.hero{padding-top:18px;padding-bottom:8px}
.hero-title{font-size:clamp(26px, 3.4vw, 40px);margin:0 0 12px 0}
.hero-title .accent{
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  -webkit-background-clip:text;background-clip:text;color:transparent
}
.import{display:grid;gap:10px}
.input-wrap{position:relative;display:flex;align-items:center}
.input-wrap .icon{
  position:absolute;left:12px;top:50%;transform:translateY(-50%);
  width:18px;height:18px;color:var(--muted)
}
.input-wrap input{
  width:100%;padding:12px 14px 12px 38px;border:1px solid var(--border);
  border-radius:14px;background:var(--bg-elev);color:var(--ink);font-size:16px;
  outline:none;transition:border .15s, box-shadow .15s
}
.input-wrap input:focus{border-color:var(--accent);box-shadow:0 0 0 6px var(--ring)}
.actions{display:flex;gap:10px;flex-wrap:wrap}
.btn{
  border:1px solid var(--border);background:var(--bg-elev);color:var(--ink);
  border-radius:12px;padding:10px 14px;font-weight:600;cursor:pointer;
  transition:transform .03s ease, box-shadow .15s
}
.btn:active{transform:translateY(1px)}
.btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent));color:#fff;border-color:transparent;box-shadow:var(--shadow)}
.btn.ghost{background:transparent}
.btn[disabled]{opacity:.6;cursor:not-allowed}
.spinner{display:none;width:16px;height:16px;border-radius:50%;border:2px solid rgba(255,255,255,.4);border-top-color:#fff;margin-left:8px;animation:spin 1s linear infinite}
.btn.loading .btn-label{opacity:.7}
.btn.loading .spinner{display:inline-block}
@keyframes spin{to{transform:rotate(360deg)}}
.grid-single{display:grid;grid-template-columns:1fr;gap:22px;align-items:start}
.panel{background:var(--bg-elev);border:1px solid var(--border);border-radius:18px;padding:18px;box-shadow:var(--shadow)}
.recipe-title{margin:0 0 12px 0;font-size:1.6rem}
.title-row{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.chip-group{display:flex;gap:10px;flex-wrap:wrap}
.chip{
  display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;
  background:#f3f5ff;color:var(--ink);border:1px solid var(--border);font-size:12px
}
.chip.secondary{background:transparent}
.chip .chip-icon{width:1.1rem;height:1.1rem}
#servings{
  width:68px;margin-left:8px;padding:6px 10px;border:1px solid var(--border);
  border-radius:12px;background:var(--bg-elev);color:var(--ink)
}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px;margin-top:12px}
.card-head{display:flex;align-items:center;gap:10px;margin-bottom:8px;color:var(--muted)}
.card-head svg,.header svg,.chip-icon{width:1.05rem;height:1.05rem;flex-shrink:0;opacity:.8;margin-right:.35rem;vertical-align:middle}
.card-head h4,.card-head svg{display:inline-flex;align-items:center}
.card-head h4{font-size:1rem;font-weight:600;margin:0}
.list{margin:0;padding-left:18px}
.list li{line-height:1.45;margin:.25rem 0}
/* Ingredient checklist UI */
.ingredient-item {
  display: grid;
  grid-template-columns: 22px 1fr;
  align-items: start;
  gap: 10px;
}
.ing-check {
  width: 18px;
  height: 18px;
  margin-top: 2px;
  accent-color: var(--accent);
  cursor: pointer;
}
.ingredient-item.checked label {
  color: var(--muted);
  text-decoration: line-through;
}
.steps{counter-reset: step; list-style:none; padding-left:0; margin:0}
.steps li{counter-increment: step; position:relative; padding-left:40px; margin:.4rem 0; line-height:1.55}
.steps li::before{
  content: counter(step);
  position:absolute; left:0; top:0.05rem;
  width:28px; height:28px; border-radius:9px;
  display:grid; place-items:center;
  background:#eef2ff; color:var(--ink);
  border:1px solid var(--border); font-weight:700
}
.ing-ref{ color: var(--accent); font-weight: 600; cursor: pointer; }
.ing-ref:hover{ text-decoration: underline; }
.sidebar{
  position: fixed; inset: 0 auto 0 0; width: 320px; background: var(--bg-elev);
  border-right: 1px solid var(--border); transform: translateX(-100%);
  transition: transform .24s ease; z-index: 120; display:flex; flex-direction:column;
  box-shadow: var(--shadow);
}
.sidebar.open{ transform: translateX(0); }
.sidebar-head{ display:flex; align-items:center; gap:10px; padding:16px; border-bottom:1px solid var(--border); }
.sidebar-nav{ display:flex; flex-direction:column; padding:12px; gap:4px; }
.sidebar-link{ padding:10px 12px; border-radius:10px; color:var(--ink); text-decoration:none; }
.sidebar-link:hover{ background:#f3f5ff; }
.sidebar-foot{ margin-top:auto; padding:12px 16px; color:var(--muted); border-top:1px solid var(--border); }
.backdrop{
  position:fixed; inset:0; background: rgba(2,6,23,.28); opacity:0; pointer-events:none;
  transition: opacity .2s ease; z-index:110;
}
.backdrop.show{ opacity:1; pointer-events:auto; }
.footer{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-bottom:28px}
.footer a{color:var(--ink);opacity:.9}
.muted{color:var(--muted)}
.toast{
  position:fixed;right:18px;bottom:18px;max-width:360px;background:var(--card);
  color:var(--ink);border:1px solid var(--border);border-radius:14px;padding:12px 14px;
  box-shadow:var(--shadow);z-index:150;min-height:42px
}
.toast:empty{display:none}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
@media (max-width: 900px){
  .container{padding:18px}
  .panel { padding: 14px; border-radius: 16px; }
  .card { padding: 12px; }
  .list li, .steps li { margin: 6px 0; line-height: 1.5; }
  .brand.offcenter{ transform: none; }
}

/* Saved Recipes hover interaction */
.saved-list .saved-open {
  color: inherit;
  cursor: pointer;
  transition: color 0.15s ease;
}

.saved-list .saved-open:hover {
  color: var(--accent);
}
.saved-list li {
  display: flex;
  justify-content: space-between;
  align-items: center;
}


/* === Patch: left-align header to viewport edge and keep hamburger + logo fully left === */
.header.container{
  max-width: none;   /* full-bleed header */
  margin: 0;         /* no centering */
  padding-left: 18px;
  padding-right: 18px;
}


/* Centered modal for ingredient amounts */
.modal{
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(92vw, 420px);
  max-width: 92vw;
  background: var(--card);
  color: var(--ink);
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: var(--shadow);
  z-index: 160;
  padding: 16px 18px 18px 18px;
}
.modal.hidden{ display: none; }
.modal-title{ margin: 0 0 8px 0; font-size: 18px; }
.modal-body{ font-size: 16px; }
.modal .close-btn{
  position:absolute; right:10px; top:8px;
  font-size:22px; line-height:1; width:32px; height:32px;
  border-radius:8px;
}
.right-group{ display:flex; align-items:center; gap:12px; margin-left:auto; }

/* Saved list spacing & actions */
.saved-list{ padding-left: 0; }

.saved-list li{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 12px;             /* spacing between name and right side */
}

.saved-list .saved-open{
  flex: 1;
  min-width: 0;          /* enables ellipsis */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.saved-right{ display:flex; align-items:center; gap: 12px; }
.saved-right .muted{ flex-shrink: 0; }

.saved-remove{
  opacity: 0;
  transition: opacity .15s ease;
}
.saved-list li:hover .saved-remove,
.saved-remove:focus{ opacity: 1; }

/* Steps: Focus (Cook) Mode */
#instructions { position: relative; }

.step-focus.hidden { display: none; }

.step-focus{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
  min-height: 160px;
  text-align: center;
  padding: 16px 44px; /* space for arrows */
  border-top: 1px solid var(--border);
}

.step-focus-body{
  max-width: 64ch;
  line-height: 1.6;
  font-size: 1.05rem;
}

.step-nav{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  border: 1px solid var(--border);
  background: var(--card);
  color: var(--ink);
  width: 36px; height: 36px;
  border-radius: 999px;
  box-shadow: var(--shadow);
  display: grid; place-items: center;
  font-size: 22px; line-height: 1;
}

.step-nav.prev { left: 8px; }
.step-nav.next { right: 8px; }

.step-nav:disabled {
  opacity: .5;
  pointer-events: none;
}

/* Keep ingredient highlight behavior inside focus mode too */
.step-focus-body .ing-ref{
  cursor: pointer;
  border-bottom: 1px dashed currentColor;
}

/* Steps: Focus (Cook) Mode */
#instructions { position: relative; }

.step-focus.hidden { display: none; }

.step-focus{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
  min-height: 160px;
  text-align: center;
  padding: 16px 44px; /* space for arrows */
  border-top: 1px solid var(--border);
}

.step-focus-body{
  max-width: 64ch;
  line-height: 1.6;
  font-size: 1.05rem;
}

.step-nav{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  border: 1px solid var(--border);
  background: var(--card);
  color: var(--ink);
  width: 36px; height: 36px;
  border-radius: 999px;
  box-shadow: var(--shadow);
  display: grid; place-items: center;
  font-size: 22px; line-height: 1;
}

.step-nav.prev { left: 8px; }
.step-nav.next { right: 8px; }

.step-nav:disabled { opacity: .5; pointer-events: none; }

/* Keep ingredient highlight behavior inside focus mode too */
.step-focus-body .ing-ref{
  cursor: pointer;
  border-bottom: 1px dashed currentColor;
}
/* Step counter in Cook Mode */
.step-counter{
  width: 100%;
  text-align: center;
  font-weight: 600;
  color: var(--muted);
  margin-bottom: 8px;
}
